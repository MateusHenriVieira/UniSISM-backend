
### üìù Resumo do Commit (Sugest√£o)

> **Refactor: Implementa√ß√£o do M√≥dulo TFD ("BlaBlaCar da Sa√∫de"), Migra√ß√£o para UUID e OCR com Detec√ß√£o de Prioridade**
> * **Database:** Migra√ß√£o completa de IDs sequenciais (Integer) para UUIDv4 visando escalabilidade e seguran√ßa. Cria√ß√£o das tabelas `CronogramaViagem` e `SolicitacaoTFD`.
> * **OCR Engine:** Adicionado suporte a leitura de PDFs (`pdf2image` + `poppler`). Implementada l√≥gica de NLP simples para detectar palavras-chave ("Oncologia", "Urgente") e definir n√≠vel de prioridade (1 a 5).
> * **M√≥dulo TFD:** Implementada l√≥gica de "Marketplace de Vagas":
> * Gest√£o de Frota (Cadastro de viagens com Placa/Motorista).
> * Mural de Viagens (Busca por Data/Destino).
> * Sistema de Candidatura (Paciente solicita vaga, entra em fila de espera).
> * Aprova√ß√£o Log√≠stica (Gestor aprova baseado na prioridade m√©dica extra√≠da via OCR).
> 
> 
> * **Infra:** Atualiza√ß√£o do Dockerfile para incluir depend√™ncias de processamento de imagem.
> 
> 

---

### üìö Detalhamento T√©cnico (Para o README.md)

Aqui est√° uma explica√ß√£o mais profunda das funcionalidades que criamos:

#### 1. Intelig√™ncia Artificial (OCR & Triagem)

O sistema n√£o apenas digitaliza o documento, ele o **interpreta**:

* **Convers√£o:** Transforma PDFs multip√°ginas em imagens process√°veis.
* **Extra√ß√£o:** Identifica CPF e Nome (com l√≥gica de atualiza√ß√£o cadastral).
* **Classifica√ß√£o de Risco:** O algoritmo varre o texto em busca de termos como *"Hemodi√°lise"*, *"C√¢ncer"* ou *"Gestante"* e atribui automaticamente um `nivel_prioridade` (1 a 5), garantindo que casos graves apare√ßam no topo da lista do gestor.

#### 2. Governan√ßa de Dados (UUIDs)

Abandonamos os IDs num√©ricos (`1, 2, 3`) em favor de **UUIDs** (`550e8400-e29b...`).

* **Motivo:** Evita enumera√ß√£o de dados por atacantes, facilita migra√ß√µes de banco e previne conflitos de chaves prim√°rias em sistemas distribu√≠dos.

#### 3. Log√≠stica "BlaBlaCar da Sa√∫de"

Invertemos a l√≥gica tradicional de "alocar um carro":

* **Oferta (Gest√£o):** A prefeitura cadastra os √¥nibus dispon√≠veis (Cronograma), informando Placa, Motorista, Destino e Capacidade.
* **Demanda (Paciente):** O paciente (ou a secret√°ria via OCR) visualiza o "Mural de Viagens" e se candidata a uma vaga.
* **Match (Regula√ß√£o):** O sistema n√£o reserva a vaga imediatamente. Ele cria uma "Inten√ß√£o de Viagem". O Gestor visualiza a lista de candidatos ordenada por **Prioridade M√©dica** e confirma o embarque, descontando a vaga do √¥nibus.

---

### üõ†Ô∏è Arquivos Modificados/Criados

| Arquivo | Altera√ß√£o Principal |
| --- | --- |
| `app/db/base.py` | Estrutura de tabelas com UUID, `CronogramaViagem` e `SolicitacaoTFD`. |
| `app/services/ocr_service.py` | L√≥gica de detec√ß√£o de palavras-chave de prioridade e convers√£o PDF. |
| `app/api/endpoints/ocr.py` | Integra√ß√£o da resposta do OCR com a pr√©-candidatura (Prioridade). |
| `app/api/endpoints/tfd.py` | Toda a l√≥gica de gest√£o de frota, mural de viagens e aprova√ß√£o de candidatos. |
| `Dockerfile` | Inclus√£o do `poppler-utils` para manipula√ß√£o de PDFs. |
| `requirements.txt` | Adi√ß√£o da lib `pdf2image`. |
